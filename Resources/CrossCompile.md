# Cross Compile Windows Binaries from Linux

## 32bit on Linux

```sh
┌──(grenierdev㉿kali)-[~]
└─$ sudo apt-get install gcc-multilib g++-multilib

┌──(grenierdev㉿kali)-[~/…/OSCP-EXAM-REPORT/Lab/Targets/10.3.3.47]
└─$ gcc -m32 -static -w 15916.c -o exp2
```

## MinGW on Linux

```sh
# 32bit
┌──(grenierdev㉿kali)-[~]
└─$ i686-w64-mingw32-gcc 42341.c -o syncbreeze_exploit.exe -lws2_32

# 64bit
┌──(grenierdev㉿kali)-[~]
└─$ x86_64-w64-mingw32-gcc 42341.c -o syncbreeze_exploit.exe

# DLL
┌──(grenierdev㉿kali)-[~]
└─$ x86_64-w64-mingw32-gcc sleep.c -o sleep.o
└─$ x86_64-w64-mingw32-gcc -o sleep.dll -s -shared sleep.o -Wl,--subsystem,windows
```

## MinGW with Wine

1. Download MinGW setup from http://sourceforge.net/projects/mingw/files/Installer/mingw-get-setup.exe/download
2. Install with `wine ~/Downloads/mingw-get-setup.exe`
3. During installation, be sure to select `mingw32-base`, `mingw32-gcc-g++` packages.
4. Be sure to `cd ~/.wine/drive_c/MinGW/bin` before running `wine gcc.exe`.